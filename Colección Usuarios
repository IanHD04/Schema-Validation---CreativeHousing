db.createCollection('usuarios', {
   validator: {
       $jsonSchema: {
           bsonType: 'object',
           required: ['codigo_usuario','dni','nombre','apellido_paterno','apellido_materno','correo_electronico','contrasenia','numero_telefonico','membresias'],
           properties: {
                codigo_usuario: {
                    bsonType: 'int',
                    description: 'Codigo del usuario'
                },
                dni: {
                    bsonType: 'string',
                    description: 'DNI del usuario, debe tener 8 digitos'
                },
                nombre: {
                    bsonType: 'string',
                    description: 'Nombre del usuario tipo string'
                },
                apellido_paterno: {
                    bsonType: 'string',
                    description: 'Apellido paterno del usuario tipo string'
                },
                apellido_materno: {
                    bsonType: 'string',
                    description: 'Apellido materno del usuario tipo string'
                },
                correo_electronico: {
                    bsonType: 'string',
                    description: 'Correo electronico del usuario debe ser una direccion de correo valida example@gmail.com'
                },
                contrasenia: {
                    bsonType: 'string',
                    description: 'Contrasenia del usuario tipo string'
                },
                numero_telefonico: {
                    bsonType: 'string',
                    description: 'Numero telefonico del usuario, debe ser una cadena de 9 digitos'
                },
               membresias: {
                   bsonType: 'array',
                   description: 'Listado de las membresias que puede tener cada usuario, junto con las fechas de inicio y vencimineto,estado, monto y beneficios que tiene',
                   items: {
                       bsonType: 'object',
                       required: ['fecha_inicio','fecha_vencimiento','estado','monto','beneficios '],
                       properties: {
                           fecha_inicio: {
                               bsonType: 'date',
                               description: 'Fecha de inicio de la membresia'
                           },
                           fecha_vencimiento: {
                               bsonType: 'date',
                               description: 'Fecha de vencimiento de la membresia'
                           },
                           estado: {
                               bsonType: 'string',
                               description: 'Estado de la membresia'
                           },
                           monto: {
                               bsonType: 'decimal',
                               description: 'Monto de la membresia'
                           },
                           beneficios: {
                               bsonType: 'array',
                               description: 'Arreglo de beneficios',
                               items:{
                                   bsonType: 'object',
                                   required: ['beneficio'],
                                   properties: {
                                       beneficio: {
                                           bsonType: 'string',
                                           description: 'Beneficio de la membresia'
                                       }
                                   }
                               }
                           }
                       }
                   }
               }
           },
           additionalProperties: false
       }
   }
})
